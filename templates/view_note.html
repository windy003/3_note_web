{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="note-detail">
        <h1>{{ note.title }}</h1>
        <div class="metadata text-muted">
            {% if note.updated_at %}
            更新于: {{ note.updated_at.strftime('%Y-%m-%d %H:%M') }}
            {% else %}
            创建于: {{ note.created_at.strftime('%Y-%m-%d %H:%M') }}
            {% endif %}
        </div>
        
        <!-- 添加固定悬浮的操作按钮组 -->
        <div class="floating-actions">
            <a href="{{ url_for('edit_note', note_id=note.id) }}" class="btn btn-primary">编辑</a>
            <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">
                删除
            </button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">返回</a>
        </div>

        <div class="content mt-4">
            {{ note.content | nl2br }}
        </div>
    </div>
</div>

<!-- 删除确认对话框 -->
<div class="modal fade" id="deleteModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">确认删除</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                确定要删除这篇笔记吗？
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <form action="{{ url_for('delete_note', note_id=note.id) }}" method="POST" class="d-inline">
                    <button type="submit" class="btn btn-danger">确认删除</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- 添加样式 -->
<style>
/* 增加笔记内容的字体大小 */
.content {
    font-size: 22px;  /* 显著增大浏览模式的字体 */
    line-height: 1.8;
    margin-bottom: 80px;
    padding: 20px;
}

/* 标题样式 */
h1 {
    font-size: 28px;
    margin-bottom: 20px;
}

/* 元数据样式 */
.metadata {
    font-size: 16px;
    margin-bottom: 20px;
}

.floating-actions {
    position: fixed;
    right: 20px;
    bottom: 20px;
    background: rgba(255, 255, 255, 0.9);
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    backdrop-filter: blur(5px);
}

.floating-actions .btn {
    margin-left: 8px;
}

/* 适配移动端 */
@media (max-width: 768px) {
    .content {
        font-size: 20px;
    }
    
    h1 {
        font-size: 24px;
    }
    
    .floating-actions {
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: 8px 8px 0 0;
        display: flex;
        justify-content: space-around;
        padding: 15px;
    }
    
    .floating-actions .btn {
        margin: 0 5px;
        flex: 1;
    }
}
</style>
{% endblock %} 